DROP DATABASE IF EXISTS website;
CREATE DATABASE website;
USE website;

START TRANSACTION;

CREATE TABLE User(
    ID INT PRIMARY KEY AUTO_INCREMENT,
    FirstName VARCHAR(128) NOT NULL,
    LastName VARCHAR(128) NOT NULL,
    Email VARCHAR(128) NOT NULL,
    Password VARCHAR(128) NOT NULL
);

CREATE TABLE Session(
	User_ID INT PRIMARY KEY AUTO_INCREMENT,
	Session_ID VARCHAR(40) NOT NULL,
	Start_Date DATETIME NOT NULL,
	FOREIGN KEY(User_ID) REFERENCES User(ID) ON DELETE CASCADE
);

CREATE TABLE Admin(
    ID INT PRIMARY KEY AUTO_INCREMENT,
    ID_User INT NOT NULL,
    FOREIGN KEY(ID_User) REFERENCES User(ID) ON DELETE CASCADE
);

-- Users
INSERT INTO User(FirstName, LastName, Email, Password) VALUES
('Francois', 'Bombardier', 'admin1@ace.com', "$argon2id$v=19$m=65536,t=4,p=1$c3JZR1FGZnBPZVBkY3RGag$339RvCv1j4vC6qAhQQszQcwGczOSlHJc0QvFraXYUW"), -- Password is: ace21
('Caroline', 'Simard', 'admin2@ace.com', "$argon2id$v=19$m=65536,t=4,p=1$c3JZR1FGZnBPZVBkY3RGag$339RvCv1j4vC6qAhQQszQcwGczOSlHJc0QvFraXYUW"), -- Password is: ace21
('Juan', 'Harra', 'user1@ace.com', "$argon2id$v=19$m=65536,t=4,p=1$c3JZR1FGZnBPZVBkY3RGag$339RvCv1j4vC6qAhQQszQcwGczOSlHJc0QvFraXYUW"), -- Password is: ace21
('Denise', 'Pelletier', 'user2@ace.com', "$argon2id$v=19$m=65536,t=4,p=1$c3JZR1FGZnBPZVBkY3RGag$339RvCv1j4vC6qAhQQszQcwGczOSlHJc0QvFraXYUW"); -- Password is: ace21


-- Admins
INSERT INTO Admin(ID_User) VALUES
(1),
(2);

COMMIT;
